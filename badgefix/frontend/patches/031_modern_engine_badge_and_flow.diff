*** Begin Patch
*** Update File: frontend/src/features/wizard/mode/engines/ModernEngine.tsx
@@
-import DeedTypeBadge from '../components/DeedTypeBadge';
+// [v4.2] Badge is rendered in WizardFrame header only
@@
-export default function ModernEngine({ docType }: { docType: string }) {
-  const slug = (docType || '').toLowerCase().replace(/_/g,'-').replace(/\s+/g,'-');
-  const flow = promptFlows[slug] || promptFlows['grant-deed']; // ❌ Fallback masked real bugs
+export default function ModernEngine({ docType }: { docType: string }) {
+  // Normalize to hyphenated slug and use that to pick the flow
+  const slug = (docType || '').toLowerCase().replace(/_/g,'-').replace(/\s+/g,'-');
+  const flow = promptFlows[slug];
+  if (!flow) {
+    console.error('[ModernEngine] Unknown docType slug:', slug, '— check URL→DocType mapping / promptFlows keys.');
+    throw new Error('Unsupported deed type: ' + slug);
+  }
@@
-  return (
-    <div className="p-4">
-      <div className="flex items-center justify-between mb-2">
-        <DeedTypeBadge docType={flow.docType} />
-      </div>
-      {/* ... existing render ... */}
-    </div>
-  );
+  return (
+    <div className="p-4">
+      {/* Badge lives in WizardFrame header; do not render here. */}
+      {/* ... existing render ... */}
+    </div>
+  );
 }
*** End Patch
